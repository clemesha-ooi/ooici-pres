<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
		"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title></title>

	<link type="text/css" rel="stylesheet" href="css/ciux-default.css"/>
	<link rel="stylesheet" type="text/css" media="screen" href="css/cupertino/jquery-ui-1.8.9.custom.css"/>
	<link rel="stylesheet" type="text/css" media="screen" href="css/ui.jqgrid.css"/>

	<script src="js/jquery-1.4.4.min.js" type="text/javascript"></script>
	<script src="js/jquery.layout.min.js" type="text/javascript"></script>
	<script src="js/i18n/grid.locale-en.js" type="text/javascript"></script>
	<script src="js/jquery.jqGrid.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		$.jgrid.no_legacy_api = true;
		$.jgrid.useJSON = true;
	</script>

	<script type="text/javascript">

		var centerLayout, mydata

		$(document).ready(function () {

			outerLayout = $('body').layout({
				resizerClass: 'ui-state-default',
				minSize: 50,
				west__size: 350,
				east__size: 350,
				south__size: 50,
				useStateCookie: true,
				center__onresize: function (pane, $Pane) {
					jQuery("#gridView").jqGrid('setGridWidth',$Pane.innerWidth() - 20);
				}

			});

			centerLayout = $('div.ui-layout-center').layout({
				minSize: 50
			});

			westLayout = $('div.ui-layout-west').layout({
				minSize: 50,
				center__paneSelector: ".west-center",
				south__paneSelector: ".west-south",
				center__size: 100,
				south__size: 300
			});

			westLayout = $('div.ui-layout-west').layout({
				minSize: 50
			});

			eastLayout = $('div.ui-layout-east').layout({
				minSize: 50
			});

			$("#gridView").jqGrid({
				datatype: 'local',
				mtype: 'GET',
				colNames:['Title','Provider', 'Format','Type'],
				colModel :[
					{name:'title', index:'title', width:430},
					{name:'provider', index:'provider', width:80},
					{name:'format', index:'format', width:80, align:'left'},
					{name:'type', index:'type', width:80, align:'left'}
				],
				loadui: "disable",
				pager: '#gridPager',
				rowNum:20,
				rowList:[10,20,30],
				sortname: 'invid',
				sortorder: 'desc',
				width: "100%",
				height: "330",
				viewrecords: true,
				caption: 'Data Resources',
				autowidth: true,
				multiselect:false,
				ExpandColumn: "title"
			});

			$("#gridView").jqGrid('navGrid','#gridPager',
				{edit:false,add:false,del:false,refresh:true,searchtext:"Find"});

			mydata = [
				{title:"Argo Float Data from the PMEL DAPPER Server",provider:"NOAA, PMEL",format:"NIDS",type:"Radial"},
				{title:"CalCOFI Data Report Data",provider:"NOAA, PMEL",format:"CalCOFI",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"COADS Surface Marine Observations, Release 2, 1854-1993",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"},
				{title:"Best of Surface Marine Observations, Release 2.1a, 1990-1997",provider:"NOAA, NCAR",format:"GRIB-1",type:"GRID"}
			];

			for (var i = 0; i <= mydata.length; i++) jQuery("#gridView").jqGrid('addRowData', i + 1, mydata[i]);

		});

		var timeoutHnd;
		var flAuto = false;
		
		function doSearch(ev) {
			if (!flAuto)
				return;
		// var elem = ev.target||ev.srcElement;
			if(timeoutHnd)
				clearTimeout(timeoutHnd)
			timeoutHnd = setTimeout(gridReload,500)
		}

		function gridReload() {
			var nm_mask = jQuery("#title").val();
			var cd_mask = jQuery("#provider").val();
			jQuery("#bigset").jqGrid('setGridParam',{mydata:mydata,page:1}).trigger("reloadGrid");
		}

		function enableAutosubmit(state) {
			flAuto = state;
			jQuery("#submitButton").attr("disabled",state);
		}
		
	</script>
</head>
<body>
<div class="ui-layout-center">
	<div>
		<div class="h">Search By:</div>
		<input type="checkbox" id="autosearch" onclick="enableAutosubmit(this.checked)"> Enable Autosearch <br/>
		Title<br/>
		<input type="text" id="title" onkeydown="doSearch(arguments[0]||event)"/>
	</div>
	<div>
		Provider<br/>
		<input type="text" id="provider" onkeydown="doSearch(arguments[0]||event)" />
		<button onclick="gridReload()" id="submitButton" style="margin-left:30px;">Search</button>
	</div> 
	<table id="gridView"></table>
	<div id="gridPager"></div>
</div>
<div class="ui-layout-north">CI UX Template</div>
<div class="ui-layout-west"></div>
<div class="ui-layout-east"></div>
<div class="ui-layout-south">Footer</div>

</body>

</html>